<!-- Top nav bar -->
<div
  class="w-full h-16 bg-gradient-to-r from-custom-nav-secondary via-custom-nav-via to-custom-nav-secondary 
  sm:bg-gradient-to-r sm:from-custom-nav-via sm:to-custom-nav-secondary  shadow-lg"
>
  <div class="flex items-center sm:justify-between justify-center h-full px-6">
    <div class="flex items-center space-x-3 r">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-10 w-10 rounded-full">
        <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM8.547 4.505a8.25 8.25 0 1 0 11.672 8.214l-.46-.46a2.252 2.252 0 0 1-.422-.586l-1.08-2.16a.414.414 0 0 0-.663-.107.827.827 0 0 1-.812.21l-1.273-.363a.89.89 0 0 0-.738 1.595l.587.39c.59.395.674 1.23.172 1.732l-.2.2c-.211.212-.33.498-.33.796v.41c0 .409-.11.809-.32 1.158l-1.315 2.191a2.11 2.11 0 0 1-1.81 1.025 1.055 1.055 0 0 1-1.055-1.055v-1.172c0-.92-.56-1.747-1.414-2.089l-.654-.261a2.25 2.25 0 0 1-1.384-2.46l.007-.042a2.25 2.25 0 0 1 .29-.787l.09-.15a2.25 2.25 0 0 1 2.37-1.048l1.178.236a1.125 1.125 0 0 0 1.302-.795l.208-.73a1.125 1.125 0 0 0-.578-1.315l-.665-.332-.091.091a2.25 2.25 0 0 1-1.591.659h-.18c-.249 0-.487.1-.662.274a.931.931 0 0 1-1.458-1.137l1.279-2.132Z" clip-rule="evenodd" />
      </svg>
      
      <span class="bg-gradient-to-br from-gray-200 to-gray-50 bg-clip-text text-transparent font-bold text-xl tracking-wide">FlightApp</span>
    </div>

    <!-- Large screen -->
    <nav class="hidden lg:block">
      <ul class="flex items-center space-x-6">
        @for (item of navPages.slice(0, 4); track $index) {
        <li>
          <a
            [routerLink]="item.url"
            class="text-gray-200 hover:text-gray-50 font-medium text-sm uppercase tracking-wider transition-all duration-200 hover:scale-105 relative group whitespace-nowrap"
          >
            {{ item.page }}
            <span
              class="absolute -bottom-1 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"
            ></span>
          </a>
        </li>
        }

        <!-- Dropdown pt pagini suplimentare -->
        @if (navPages.length > 4) {
        <li class="relative group">
          <button
            class="text-gray-200 hover:text-gray-50 font-medium text-sm uppercase tracking-wider transition-all duration-200 flex items-center space-x-1"
          >
            <span>More</span>
            <svg
              class="w-4 h-4 transition-transform duration-300 group-hover:rotate-180"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M19 9l-7 7-7-7"
              ></path>
            </svg>
            <span
              class="absolute -bottom-1 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"
            ></span>
          </button>

          <div
            class="absolute right-0 mt-2 w-40 bg-emerald-950 rounded-lg shadow-xl border border-slate-900/70 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform translate-y-2 group-hover:translate-y-0 z-50"
          >
            <ul class="py-2">
              @for (item of navPages.slice(4); track $index) {
              <li>
                <a
                  [routerLink]="item.url"
                  class="block px-4 py-3 text-gray-100 hover:bg-emerald-900/40 hover:text-blue-600 transition-all duration-200 text-sm font-medium"
                >
                  {{ item.page }}
                </a>
              </li>
              }
            </ul>
          </div>
        </li>
        }
      </ul>
    </nav>

    <!-- Burger button pt medium screen devices -->
    <button
      class="hidden sm:block lg:hidden text-gray-100 p-2 rounded-md hover:bg-white/10 hover:text-gray-50/90 duration-200"
      (click)="toggleMobileMenu()"
      [attr.aria-expanded]="isMobileMenuOpen"
      aria-label="Toggle navigation menu"
    >
      <svg
        class="w-6 h-6 transition-transform duration-300"
        [class.rotate-90]="isMobileMenuOpen"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          [attr.d]="
            isMobileMenuOpen
              ? 'M6 18L18 6M6 6l12 12'
              : 'M4 6h16M4 12h16M4 18h16'
          "
        ></path>
      </svg>
    </button>
  </div>

  <div
    class="hidden sm:block lg:hidden transition-all duration-200 ease-in-out"
    [class]="
      isMobileMenuOpen
        ? 'max-h-96 opacity-100'
        : 'max-h-0 opacity-0 overflow-hidden'
    "
  >
    <div
      class="bg-gradient-to-b from-slate-100/100 via-slate-50/95 to-custom-card-background/60 backdrop-blur-sm border-t border-white/10"
    >
      <nav class="h-screen overflow-y-auto">
        <ul class="space-y-2 py-2">
          @for (item of navPages; track $index) {
          <li>
            <a
              [routerLink]="item.url"
              (click)="closeMobileMenu()"
              class="block py-3 px-4 text-emerald-900 hover:bg-custom-hover-link/40 rounded-lg transition-all duration-200 text-lg font-medium text-center ml-20 mr-20"
            >
              {{ item.page }}
            </a>
          </li>
          }
        </ul>
      </nav>
    </div>
  </div>
</div>

<!-- Bottom nav bar - screen < sm-->
<div
  class="sm:hidden fixed bottom-0 left-0 w-full h-16 bg-gradient-to-r to-custom-nav-secondary via-custom-nav-via from-custom-nav-secondary shadow-lg z-50"
>
  <div class="flex items-center justify-around h-full px-4">
    <button
      class="flex flex-col items-center justify-center w-12 h-12 text-white hover:bg-white/10 rounded-lg transition-colors duration-200"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"
        />
      </svg>

      <span class="text-sm mt-1">Profile</span>
    </button>

    <button
      class="flex flex-col items-center justify-center w-20 h-20 bg-white text-emerald-900 rounded-full shadow-2xl mb-12 hover:bg-gray-50 transition-all duration-200 transform hover:scale-105"
    >
      <svg
        class="w-8 h-8"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"
        ></path>
      </svg>
      <span class="text-xs mt-1 font-semibold">Flights</span>
    </button>

    <button
      class="flex flex-col items-center justify-center w-12 h-12 text-white hover:bg-white/10 rounded-lg transition-colors duration-200"
      (click)="toggleMobileMenu()"
      [attr.aria-expanded]="isMobileMenuOpen"
      aria-label="Toggle navigation menu"
    >
      <svg
        class="w-6 h-6 transition-transform duration-300"
        [class.rotate-90]="isMobileMenuOpen"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          [attr.d]="
            isMobileMenuOpen
              ? 'M6 18L18 6M6 6l12 12'
              : 'M4 6h16M4 12h16M4 18h16'
          "
        ></path>
      </svg>
      <span class="text-sm mt-1">Menu</span>
    </button>
  </div>
</div>

<div class="sm:hidden fixed inset-0 z-40 pointer-events-none">
  <div
    class="absolute inset-0 bg-black/50 transition-opacity duration-300 pointer-events-auto"
    [class.opacity-0]="!isMobileMenuOpen"
    [class.opacity-100]="isMobileMenuOpen"
    [class.invisible]="!isMobileMenuOpen"
    (click)="closeMobileMenu()"
  ></div>

  <div
    class="absolute bottom-16 left-0 right-0 bg-slate-50 rounded-t-xl shadow-2xl transition-transform duration-300 transform pointer-events-auto"
    [class.translate-y-full]="!isMobileMenuOpen"
    [class.translate-y-0]="isMobileMenuOpen"
  >
    <div class="px-4 py-6 max-h-96 overflow-y-auto">
      <h3 class="text-lg font-semibold text-emerald-950 mb-4 text-center">
        Navigation
      </h3>
      <nav>
        <ul class="space-y-3">
          @for (item of navPages; track $index) {
          <li>
            <a
              [routerLink]="item.url"
              (click)="closeMobileMenu()"
              class="block py-3 px-4 text-emerald-900 hover:bg-custom-hover-link/40 rounded-lg transition-all duration-200 text-center font-medium"
            >
              {{ item.page }}
            </a>
          </li>
          }
        </ul>
      </nav>
    </div>
  </div>
</div>

